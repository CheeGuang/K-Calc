<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Bootstrap Link -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
      crossorigin="anonymous"
      defer
    ></script>

    <!-- JQuery Link -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

    <!-- Font Awesome -->
    <script
      src="https://kit.fontawesome.com/4f6d96e165.js"
      crossorigin="anonymous"
    ></script>

    <!-- Google Font -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=Lora:ital,wght@0,400..700;1,400..700&display=swap"
      rel="stylesheet"
    />

    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- Page Name -->
    <title>K-Calc</title>

    <!-- Linking CSS -->
    <link rel="stylesheet" href="./css/normalize.css" />
    <link rel="stylesheet" href="./css/style.css" />
    <link rel="stylesheet" href="./css/navbar.css" />

    <!-- ######################################## INSERT PAGE'S CSS HERE \/ ########################################################### -->
    <link rel="stylesheet" href="./css/index.css" />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200&icon_names=expand_circle_up"
    />
    <!-- ######################################## END OF PAGE'S CSS ########################################################### -->
    <!-- END OF PAGE'S CSS /\-->

    <link rel="stylesheet" href="./css/footer.css" defer />

    <!-- Linking JS -->
    <script src="./js/script.js" defer></script>
    <script src="./js/navbarFooter.js" defer></script>

    <!-- ######################################## INSERT PAGE'S JS HERE \/ ########################################################### -->
    <script src="./js/index.js" defer></script>
    <!-- ######################################## END OF PAGE'S JS ########################################################### -->
    <!-- END OF PAGE'S JS /\-->

    <!-- Add a favicon to the tab bar -->
    <link rel="icon" type="image/x-icon" href="./img/kcalc-square.jpg" />
  </head>
  <body>
    <header>
      <div id="navbar-container"></div>
    </header>

    <!-- Transparent Row with Small e Top -->
    <div class="row" style="background-color: transparent"></div>

    <!-- Main Content Container -->
    <div class="container text-center">
      <div class="row justify-content-center">
        <div class="col-12">
          <!-- Load customAlert.html dynamically -->
          <div id="customAlertContainer"></div>

          <!-- ######################################## INSERT PAGE'S CONTENT HERE \/ ########################################################### -->
          <div class="container-fluid">
            <h1 class="mb-4 fw-bold">Dashboard</h1>
            <div class="row">
              <!-- Total Scope 3 Emissions -->
              <div class="col-md-4 mb-4 kpi-stretched">
                <div class="card h-100">
                  <div class="card-body text-center">
                    <h5>
                      Total Scope 3 Emissions
                      <span class="info-wrapper">
                        <i class="fas fa-info-circle"></i>
                        <div class="info-text">
                          Total emissions from Scope 3, not including carbon
                          offsets.
                        </div>
                      </span>
                    </h5>
                    <div
                      id="totalEmissionsContainer"
                      class="d-flex justify-content-center align-items-center gap-3"
                    >
                      <h1 id="totalEmissions" class="mt-1">
                        <span
                          class="spinner-border spinner-border-sm text-secondary me-2"
                        ></span
                        >Loading...
                      </h1>
                      <span class="text-danger fw-bold pb-3">▲ 11.2%</span>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Total Employees -->
              <div class="col-md-4 mb-4">
                <div class="card h-100">
                  <div class="card-body text-center">
                    <h5>
                      Total Employees
                      <span class="info-wrapper">
                        <i class="fas fa-info-circle"></i>
                        <div class="info-text">
                          Number of employees in the whole company
                        </div>
                      </span>
                    </h5>
                    <h1 class="mt-3">
                      <span>105</span>
                      <small class="text-muted"> people </small>
                    </h1>
                  </div>
                </div>
              </div>

              <!-- Emissions / Employee -->
              <div class="col-md-4 mb-4">
                <div class="card h-100">
                  <div class="card-body text-center">
                    <h5>
                      Emissions / Employee
                      <span class="info-wrapper">
                        <i class="fas fa-info-circle"></i>
                        <div class="info-text">
                          amount of emissions per employee for the time period
                        </div>
                      </span>
                    </h5>
                    <h1 class="mt-3">
                      <span>55.2</span>
                      <small class="text-muted"> tCO₂e </small>
                    </h1>
                  </div>
                </div>
              </div>

              <!-- Emissions by Category -->
              <div class="col-md-6 mb-4">
                <div class="card h-100">
                  <div
                    class="d-flex flex-column align-items-center justify-content-center card-body text-center"
                  >
                    <h5>
                      Emissions by Category
                      <span class="info-wrapper">
                        <span class="info-wrapper">
                          <i class="fas fa-info-circle"></i>
                          <div class="info-text">
                            Displays a breakdown of emissions across various
                            Scope 3 categories, enhanced by the total amount of
                            tCO₂e and the percentage contribution of each
                            category.
                          </div>
                        </span>

                        <div class="info-text">
                          Displays a breakdown of emissions across various Scope
                          3 categories, enhanced by the total amount of tCO₂e
                          and the percentage contribution of each category.
                        </div>
                      </span>
                    </h5>
                    <canvas id="emissionsByCategoryChart"></canvas>
                  </div>
                </div>
              </div>

              <!-- Emissions by Type -->
              <div class="col-md-6 mb-4">
                <div class="card h-100">
                  <div
                    class="d-flex flex-column align-items-center justify-content-center card-body text-center"
                  >
                    <h5>
                      Emissions by Type <i class="fas fa-info-circle"></i>
                    </h5>
                    <canvas id="emissionsByTypeChart"></canvas>
                  </div>
                </div>
              </div>

              <!-- Path to Net Zero -->
              <div class="col-md-6 mb-4">
                <div class="card h-100">
                  <div
                    class="card-body text-center d-flex justify-content-center flex-column align-items-center"
                  >
                    <h5>
                      Path to Net Zero
                      <span class="info-wrapper">
                        <i class="fas fa-info-circle"></i>
                        <div class="info-text">
                          Shows company's progress towards net zero, which is
                          the goal by 2050.
                        </div>
                      </span>
                    </h5>

                    <div class="d-flex justify-content-center w-100">
                      <canvas
                        id="netZeroChart"
                        style="max-width: 100%; height: 250px"
                      ></canvas>
                    </div>

                    <!-- Progress Bar -->
                    <div class="progress mt-4" style="height: 10px; width: 80%">
                      <div
                        class="progress-bar bg-success"
                        role="progressbar"
                        style="width: 56%"
                        aria-valuenow="56"
                        aria-valuemin="0"
                        aria-valuemax="100"
                      ></div>
                    </div>

                    <div class="text-success text-center mt-2">
                      <strong> 56% </strong> progress towards Net Zero emissions
                    </div>
                  </div>
                </div>
              </div>

              <!-- Notifications -->
              <div class="col-md-6 mb-4">
                <div class="card h-100">
                  <div class="card-body">
                    <h5 class="card-title text-start fw-bold">
                      Notifications <i class="fas fa-bell"></i>
                    </h5>

                    <ul class="list-group list-group-flush">
                      <!-- Notification 1 -->
                      <li
                        class="list-group-item d-flex justify-content-between align-items-center"
                      >
                        <div
                          class="d-flex justify-content-center align-items-center text-start"
                        >
                          <i
                            class="fas fa-calendar-alt fa-lg me-4 text-secondary mt-1"
                          ></i>
                          <div>
                            <div class="fw-bold">
                              Incomplete data for Sept 2021
                            </div>
                            <small class="text-muted"
                              >Missing voyage distance for Job ID #42945.</small
                            >
                          </div>
                        </div>
                        <button class="btn btn-sm btn-danger">More</button>
                      </li>

                      <!-- Notification 2 -->
                      <li
                        class="list-group-item d-flex justify-content-between align-items-center"
                      >
                        <div
                          class="d-flex justify-content-center align-items-center text-start"
                        >
                          <i
                            class="fas fa-leaf fa-lg me-4 text-secondary mt-1"
                          ></i>
                          <div>
                            <div class="fw-bold">
                              8% reduction in carbon emissions
                            </div>
                            <small class="text-muted"
                              >Carbon intensity improved by 8% this quarter vs
                              Q2 last year.</small
                            >
                          </div>
                        </div>
                        <button class="btn btn-sm btn-danger">More</button>
                      </li>

                      <!-- Notification 3 -->
                      <li
                        class="list-group-item d-flex justify-content-between align-items-center"
                      >
                        <div
                          class="d-flex justify-content-center align-items-center text-start"
                        >
                          <i
                            class="fas fa-upload fa-lg me-4 text-secondary mt-1"
                          ></i>
                          <div>
                            <div class="fw-bold">Upload Complete</div>
                            <small class="text-muted"
                              >File “emission 2024” has been uploaded
                              successfully.</small
                            >
                          </div>
                        </div>
                        <button class="btn btn-sm btn-danger">More</button>
                      </li>
                    </ul>
                  </div>
                </div>
              </div>

              <!-- Top Emissions by Vendor -->
              <div class="col-md-12 mb-4">
                <div class="card h-100">
                  <div class="card-body">
                    <h5 class="card-title text-left">
                      Top Emissions by Vendor
                      <span class="info-wrapper">
                        <i class="fas fa-circle-info"></i>
                        <div class="info-text">
                          List of vendor emissions and amount spent on each
                          vendor. Use it to identify suppliers with high carbon
                          intensity.
                        </div>
                      </span>
                    </h5>
                    <table class="table">
                      <thead>
                        <tr>
                          <th>Vendor</th>
                          <th>Emissions</th>
                          <th>Amt. Spent</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr>
                          <td>Shipping Genius</td>
                          <td>45 tCO₂e</td>
                          <td>$127k</td>
                        </tr>
                        <tr>
                          <td>Stevedore Master</td>
                          <td>26 tCO₂e</td>
                          <td>$89k</td>
                        </tr>
                        <tr>
                          <td>Shipping Minions</td>
                          <td>18 tCO₂e</td>
                          <td>$51k</td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- ######################################## END OF PAGE'S CONTENT ########################################################### -->
        </div>
      </div>
    </div>

    <!-- Footer -->
    <footer class="bd-footer py-4 py-md-5 mt-5">
      <div
        id="footer"
        class="container py-4 py-md-5 px-4 px-md-3 text-body-secondary"
      ></div>
    </footer>

    <!-- Custom JS to Load customAlert.html -->
    <script>
      $(document).ready(function () {
        // Load the customAlert.html into the container
        $("#customAlertContainer").load("./customAlert.html");

        // Define the showCustomAlert function globally
        window.showCustomAlert = function (message) {
          var $alert = $("#customAlert");
          $alert.text(message); // Update alert message
          $alert.fadeIn(); // Show the alert

          // Automatically hide after 5 seconds (5000ms)
          setTimeout(function () {
            $alert.fadeOut();
          }, 5000);
        };
      });
    </script>
  </body>
</html>
